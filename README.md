# Telegram Buddy

Telegram бот для извлечения контента из социальных сетей и саммаризации обсуждений в группах с помощью DeepSeek AI.

## Возможности

### Для личных чатов
- **Авто-скачивание** — отправь ссылку и бот автоматически скачает контент
- **Поиск музыки** — команда `/music <запрос>`
- **Статистика** — команда `/stats`

### Для групп (требуется разрешение админа)
- **Извлечение контента** — команда `/unzip` (ответом на сообщение со ссылкой)
- **Саммаризация обсуждения** — команда `/summary` (анализ последних сообщений через DeepSeek)
- **Поддержка платформ**: TikTok, Instagram, YouTube, X (Twitter)

### Управление доступом
- Бот присылает запрос в ЛС при добавлении в группу
- Админ подтверждает через кнопки ✅/❌
- Каждая группа имеет изолированную историю сообщений (до 100 сообщений)

## Установка

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/Catanix/telegram-buddy.git
   cd telegram-buddy
   ```

2. Создайте `.env` файл:
   ```bash
   cp .env.example .env
   ```

3. Заполните `.env`:
   ```
   TELEGRAM_TOKEN=your_bot_token
   AUTHORIZED_USERNAME=your_telegram_username
   ADMIN_CHAT_ID=your_chat_id
   LM_PROVIDER=Deepseek
   LM_API_KEY=your_deepseek_key
   ```

## Запуск

### Docker (рекомендуется)
```bash
docker compose up -d --build
```

### Локально
```bash
npm install
npm start
```

## Команды

| Команда | Описание | Где работает |
|---------|----------|--------------|
| `/start` | Информация о боте | Везде |
| `/music <запрос>` | Поиск музыки | Личный чат |
| `/stats` | Статистика использования | Личный чат |
| `/unzip` | Извлечь контент по ссылке | Группы (с разрешением) |
| `/summary` | Саммаризация обсуждения | Группы (с разрешением) |

## Технологии

- Node.js 20
- Telegraf.js
- SQLite
- DeepSeek API
- Docker

## Лицензия

MIT
